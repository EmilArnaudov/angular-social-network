<div class="container mt-5">
    <div class="row d-flex justify-content-center">
        <div class="col-md-7">
            <div class="card p-3 py-4">
                <div class="text-center"> <img [src]="userData?.profilePicture == '' ? '../../../assets/default-profile.jpg' : userData?.profilePicture" width="100" height="100" class="rounded-circle"> </div>
                <div class="text-center mt-3"><span *ngIf="userData?.username === currentUserUsername" [routerLink]="['/app/', userData.username, 'edit']" class="span bg-secondary p-1 px-4 rounded text-white">Edit Profile</span>
                    <h5 class="mt-2 mb-0">{{userData?.firstName}} {{userData?.lastName}}</h5> <span>{{userData?.username}}</span>
                    <div class="px-4 mt-1 text-center">
                        <p class="fonts text-left">{{userData?.profileDescription}}</p>
                    </div>
                    <ul class="social-list">
                        <li>{{userData?.posts.length ? userData.posts.length : '0'}} posts</li>
                        <li>{{userData?.following.length ? userData.following.length : '0'}} following</li>
                        <li>{{userData?.followers.length ? userData.followers.length : '0'}} followers</li>
                    </ul>
                    <div *ngIf="userData?.username !== currentUserUsername" class="buttons"> 
                      <button class="btn btn-info-primary px-4">Message</button>
                      <button *ngIf="!userData?.followers.includes(currentUserUsername)" (click)="followUser()" class="btn btn-info px-4 ms-3">Follow</button>
                      <button *ngIf="userData?.followers.includes(currentUserUsername)" disabled class="btn btn-info px-4 ms-3">Following</button>
                     </div>
                </div>
            </div>
        </div>
    </div>

    <hr>
    <div class="text-center mt-3">
        <h4 class="text-secondary"> Posts </h4>
    </div>

    <div *ngIf="userData?.posts.length > 0" class="row text-center text-lg-start">

        <div *ngFor="let post of userPostsContent" class="col-lg-3 col-md-4 col-6">
          <a class="d-block mb-4 h-100">
            <img class="thumbnail img-thumbnail" height="auto" width="400"  [src]="post.imageUrl" alt="">
          </a>
        </div>
    </div>

    <div class="no-posts mt-4" *ngIf="userData?.posts.length == 0">
      <i class="fa-solid fa-ghost ghost"></i>
      <p class=" text-secondary">It seems you haven't added any posts yet ..</p>
    </div>


